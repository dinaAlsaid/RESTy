(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),s=n.n(c),a=n(13),o=n.n(a),i=(n(21),n(4)),d=n(5),u=n(7),l=n(6),h=(n(22),n(23),function(){return Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:"RESTy"})})}),j=(n(24),function(){return Object(r.jsx)("footer",{children:Object(r.jsx)("p",{children:"\xa9 Dina AlSaid,2020"})})}),m=n(3),b=n.n(m),f=n(8),p=n(14),O=n.n(p),y=(n(35),n(2)),x=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).clickHandler=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),document.getElementById("errorSec")&&document.getElementById("errorSec").remove(),r.createBuffering(),"GET"===r.state.method){e.next=6;break}return e.next=6,r.setState({reqBody:document.getElementById("reqBody").value});case 6:return e.next=8,r.setState({url:document.getElementById("url").value});case 8:O()("".concat(r.state.method),"".concat(r.state.url)).then((function(e){r.state.url,r.updateHistory(e.body),r.props.resultHandler(e)})).catch((function(e){document.getElementById("bufferImg")&&document.getElementById("bufferImg").remove();var t=document.createElement("div");t.textContent=e.message,t.id="errorSec",document.getElementById("output").insertAdjacentElement("afterend",t),console.log(e)})),document.getElementById("url").value="","GET"!==r.state.method&&(document.getElementById("reqBody").value="");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.createBuffering=function(){var e=document.createElement("img");e.setAttribute("src","https://img.wattpad.com/66c61e194d72f389ca320552cd97df4c70f30440/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f776174747061642d6d656469612d736572766963652f53746f7279496d6167652f624374335030343862465f7a7a673d3d2d3435373737313536382e313464663063336566333937653239663630343833383931363935352e676966"),e.setAttribute("alt","buffering"),e.setAttribute("width","20px"),e.setAttribute("id","bufferImg"),document.getElementById("loading").appendChild(e)},r.updateHistory=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={url:r.state.url,method:r.state.method},"GET"!==r.state.method&&(c.body=r.state.reqBody),(n=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):[]).push(c),localStorage.setItem("history",JSON.stringify(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.methodHandler=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.setState({method:t.target.value});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={url:" ",method:"GET",reqBody:[]},r}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{onSubmit:this.clickHandler,"data-testid":"submitForm",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{id:"GET",value:"GET",onClick:this.methodHandler,children:"GET"}),Object(r.jsx)("button",{id:"POST",value:"POST",onClick:this.methodHandler,children:"POST"}),Object(r.jsx)("button",{id:"PUT",value:"PUT",onClick:this.methodHandler,children:"PUT"}),Object(r.jsx)("button",{id:"DELETE",value:"DELETE",onClick:this.methodHandler,children:"DELETE"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",id:"url",placeholder:"URL",autoComplete:"false","data-testid":"inputField"}),Object(r.jsx)(y.b,{condition:"GET"!==this.state.method,children:Object(r.jsx)(y.c,{children:Object(r.jsx)("input",{type:"textarea",id:"reqBody",placeholder:"Request Body"})})}),Object(r.jsx)("input",{type:"submit",value:"GO","data-testid":"submitBtn"})]})]}),Object(r.jsxs)("div",{className:"output",id:"output",children:[Object(r.jsx)("div",{children:this.state.method}),Object(r.jsx)("div",{"data-testid":"output",children:this.state.url})]}),Object(r.jsx)("div",{id:"loading"})]})}}]),n}(s.a.Component),v=n(15),g=n.n(v),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).prettyJson=function(){return{Headers:r.props.headers,Response:{count:r.props.count,results:r.props.resArr}}},r.state={isReady:!1},r}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){document.getElementById("bufferImg").remove()}},{key:"render",value:function(){return Object(r.jsx)("div",{id:"results",children:Object(r.jsxs)(y.b,{condition:this.props.resArr!==[]&&""!==this.props.headers&&""!==this.props.count,children:[Object(r.jsx)(y.c,{children:Object(r.jsx)(g.a,{src:this.prettyJson(),theme:"ashes",enableClipboard:"false"})}),Object(r.jsx)(y.a,{children:Object(r.jsx)("div",{children:"No results"})})]})})}}]),n}(s.a.Component);function B(e){var t=e.target,n=t.parentElement.firstChild.innerHTML,r=t.parentElement.lastChild.innerHTML;document.getElementById("url").value=r,document.getElementById("".concat(n)).click(),console.log(n)}var S=function(){var e;return e=JSON.parse(localStorage.getItem("history"))?JSON.parse(localStorage.getItem("history")):[{method:"no History"}],Object(r.jsx)("ul",{children:e.map((function(e){return Object(r.jsxs)("li",{onClick:B,children:[Object(r.jsx)("span",{children:e.method}),Object(r.jsx)("span",{children:e.url})]},e)}))})},I=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).resultHandler=function(e){e.body?r.setState({count:e.body.count,results:e.body.results,headers:e.headers}):r.setState({count:"",results:[],headers:""})},r.state={headers:"",count:"",results:[]},r}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{}),Object(r.jsx)(x,{resultHandler:this.resultHandler}),Object(r.jsx)(E,{resArr:this.state.results,count:this.state.count,headers:this.state.headers}),Object(r.jsx)(S,{}),Object(r.jsx)(j,{})]})}}]),n}(s.a.Component),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),T()}},[[36,1,2]]]);
//# sourceMappingURL=main.ac9f0dbf.chunk.js.map